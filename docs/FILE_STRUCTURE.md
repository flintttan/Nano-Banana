# ğŸ“ é¡¹ç›®æ–‡ä»¶ç»“æ„è¯´æ˜

æœ¬æ–‡æ¡£è¯´æ˜äº†é¡¹ç›®çš„ç›®å½•ç»“æ„å’Œæ–‡ä»¶ç»„ç»‡æ–¹å¼ã€‚

---

## ğŸ“‚ ç›®å½•ç»“æ„

```
Nano-Banana/
â”‚
â”œâ”€â”€ ğŸ“„ æ ¹ç›®å½•æ–‡ä»¶
â”‚   â”œâ”€â”€ README.md                  # é¡¹ç›®ä¸»æ–‡æ¡£
â”‚   â”œâ”€â”€ package.json               # Node.js ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ package-lock.json          # ä¾èµ–é”å®šæ–‡ä»¶
â”‚   â”œâ”€â”€ server.js                  # åº”ç”¨ä¸»å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ database.sql               # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚   â”‚
â”‚   â”œâ”€â”€ Dockerfile                 # Docker é•œåƒæ„å»ºé…ç½®
â”‚   â”œâ”€â”€ docker-compose.yml         # Docker Compose ç¼–æ’é…ç½®
â”‚   â”œâ”€â”€ .dockerignore              # Docker æ„å»ºå¿½ç•¥æ–‡ä»¶
â”‚   â”œâ”€â”€ .env.example               # ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ deploy.sh                  # è‡ªåŠ¨éƒ¨ç½²è„šæœ¬
â”‚   â”œâ”€â”€ verify-docker.sh           # Docker é…ç½®éªŒè¯è„šæœ¬
â”‚   â”œâ”€â”€ Makefile                   # å¸¸ç”¨å‘½ä»¤é›†åˆ
â”‚   â”œâ”€â”€ start.sh                   # Linux å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ start.bat                  # Windows å¯åŠ¨è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“ åº”ç”¨ç›®å½•
â”‚   â”œâ”€â”€ config/                    # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”‚   â””â”€â”€ database.js            # æ•°æ®åº“é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                    # æ•°æ®æ¨¡å‹ç›®å½•
â”‚   â”‚   â”œâ”€â”€ User.js                # ç”¨æˆ·æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Image.js               # å›¾ç‰‡æ¨¡å‹
â”‚   â”‚   â””â”€â”€ Announcement.js        # å…¬å‘Šæ¨¡å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/                    # è·¯ç”±ç›®å½•
â”‚   â”‚   â”œâ”€â”€ auth.js                # è®¤è¯è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ user.js                # ç”¨æˆ·è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ image.js               # å›¾ç‰‡è·¯ç”±
â”‚   â”‚   â””â”€â”€ admin.js               # ç®¡ç†å‘˜è·¯ç”±
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                  # æœåŠ¡ç›®å½•
â”‚   â”‚   â”œâ”€â”€ aiService.js           # AI æœåŠ¡
â”‚   â”‚   â””â”€â”€ mailService.js         # é‚®ä»¶æœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ public/                    # é™æ€æ–‡ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ index.html             # ä¸»é¡µ
â”‚   â”‚   â”œâ”€â”€ login.html             # ç™»å½•é¡µ
â”‚   â”‚   â”œâ”€â”€ main.js                # å‰ç«¯è„šæœ¬
â”‚   â”‚   â””â”€â”€ tutorial.html          # æ•™ç¨‹é¡µ
â”‚   â”‚
â”‚   â”œâ”€â”€ uploads/                   # ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ç›®å½•
â”‚   â”‚   â””â”€â”€ .gitkeep               # ç©ºæ–‡ä»¶ï¼ˆä¿æŒç›®å½•å­˜åœ¨ï¼‰
â”‚   â”‚
â”‚   â””â”€â”€ nginx/                     # Nginx é…ç½®ç›®å½•
â”‚       â””â”€â”€ nginx.conf             # Nginx é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ“ æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ DEPLOYMENT.md              # éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ DOCKER_DEPLOYMENT.md       # Docker éƒ¨ç½²æŒ‡å—
â”‚   â”œâ”€â”€ README.docker.md           # Docker å¿«é€Ÿå¼€å§‹
â”‚   â””â”€â”€ DOCKER_FILES_SUMMARY.md    # Docker æ–‡ä»¶æ€»ç»“
â”‚
â””â”€â”€ ğŸ“ Git ç›®å½•
    â””â”€â”€ .git/                      # Git ç‰ˆæœ¬æ§åˆ¶ç›®å½•
```

---

## ğŸ“ æ–‡ä»¶åˆ†ç±»è¯´æ˜

### ğŸ”§ æ ¸å¿ƒæ–‡ä»¶

| æ–‡ä»¶å | è¯´æ˜ |
|--------|------|
| `server.js` | Express åº”ç”¨ä¸»å…¥å£æ–‡ä»¶ |
| `package.json` | Node.js é¡¹ç›®é…ç½®å’Œä¾èµ–ç®¡ç† |
| `database.sql` | MySQL æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ |

### ğŸ³ Docker ç›¸å…³

| æ–‡ä»¶å | è¯´æ˜ |
|--------|------|
| `Dockerfile` | åº”ç”¨å®¹å™¨é•œåƒæ„å»ºé…ç½® |
| `docker-compose.yml` | å¤šå®¹å™¨ç¼–æ’é…ç½®ï¼ˆåº”ç”¨+æ•°æ®åº“+Redis+Nginxï¼‰ |
| `.dockerignore` | Docker æ„å»ºæ—¶å¿½ç•¥çš„æ–‡ä»¶åˆ—è¡¨ |
| `.env.example` | Docker ç¯å¢ƒå˜é‡ç¤ºä¾‹é…ç½® |

### ğŸš€ éƒ¨ç½²è„šæœ¬

| æ–‡ä»¶å | è¯´æ˜ |
|--------|------|
| `deploy.sh` | è‡ªåŠ¨éƒ¨ç½²è„šæœ¬ï¼ˆäº¤äº’å¼é…ç½®ï¼‰ |
| `verify-docker.sh` | Docker é…ç½®éªŒè¯è„šæœ¬ |
| `Makefile` | å¸¸ç”¨å‘½ä»¤å¿«æ·æ–¹å¼é›†åˆ |
| `start.sh` / `start.bat` | å¿«é€Ÿå¯åŠ¨è„šæœ¬ï¼ˆå¼€å‘ç¯å¢ƒï¼‰ |

### ğŸ“š æ–‡æ¡£

| æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|----------|------|
| `README.md` | é¡¹ç›®ä¸»æ–‡æ¡£ï¼ˆåŠŸèƒ½ä»‹ç»ã€å¿«é€Ÿå¼€å§‹ï¼‰ |
| `docs/DEPLOYMENT.md` | è¯¦ç»†éƒ¨ç½²æŒ‡å— |
| `docs/DOCKER_DEPLOYMENT.md` | Docker Compose éƒ¨ç½²æŒ‡å— |
| `docs/README.docker.md` | Docker å¿«é€Ÿå¼€å§‹æŒ‡å— |
| `docs/DOCKER_FILES_SUMMARY.md` | Docker ç›¸å…³æ–‡ä»¶æ€»ç»“ |

### ğŸ’¾ åº”ç”¨ä»£ç 

| ç›®å½• | è¯´æ˜ |
|------|------|
| `config/` | æ•°æ®åº“é…ç½®ç­‰ |
| `models/` | æ•°æ®æ¨¡å‹ï¼ˆUserã€Imageã€Announcementï¼‰ |
| `routes/` | API è·¯ç”±ï¼ˆè®¤è¯ã€ç”¨æˆ·ã€å›¾ç‰‡ã€ç®¡ç†å‘˜ï¼‰ |
| `services/` | ä¸šåŠ¡æœåŠ¡ï¼ˆAI æœåŠ¡ã€é‚®ä»¶æœåŠ¡ï¼‰ |
| `public/` | å‰ç«¯é™æ€æ–‡ä»¶ï¼ˆHTMLã€CSSã€JSï¼‰ |
| `uploads/` | ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶å­˜å‚¨ç›®å½• |
| `nginx/` | Nginx åå‘ä»£ç†é…ç½® |

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### æ–¹å¼ä¸€ï¼šDocker Composeï¼ˆæ¨èï¼‰

```bash
# 1. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®å¯†ç å’Œ API å¯†é’¥

# 2. å¯åŠ¨æœåŠ¡
docker compose up -d

# 3. è®¿é—®åº”ç”¨
# http://localhost:3000
```

### æ–¹å¼äºŒï¼šä½¿ç”¨éƒ¨ç½²è„šæœ¬

```bash
# è¿è¡Œè‡ªåŠ¨éƒ¨ç½²è„šæœ¬
./deploy.sh

# æŒ‰ç…§æç¤ºå®Œæˆé…ç½®
```

### æ–¹å¼ä¸‰ï¼šä½¿ç”¨ Makefile

```bash
# æŸ¥çœ‹å¯ç”¨å‘½ä»¤
make help

# åˆå§‹åŒ–å¹¶å¯åŠ¨
make setup
make up

# æŸ¥çœ‹çŠ¶æ€
make status
```

### æ–¹å¼å››ï¼šæ‰‹åŠ¨éƒ¨ç½²

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. é…ç½®æ•°æ®åº“
# åˆ›å»º MySQL æ•°æ®åº“å¹¶å¯¼å…¥ database.sql

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶

# 4. å¯åŠ¨æœåŠ¡
npm start
```

---

## ğŸ“Œ é‡è¦è¯´æ˜

### ç¯å¢ƒå˜é‡

é¦–æ¬¡éƒ¨ç½²å‰ï¼Œè¯·åŠ¡å¿…ï¼š
1. å¤åˆ¶ `.env.example` ä¸º `.env`
2. ä¿®æ”¹æ‰€æœ‰é»˜è®¤å¯†ç å’Œå¯†é’¥
3. é…ç½® AI API å¯†é’¥
4. é…ç½®é‚®ç®±ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰

### æ•°æ®æŒä¹…åŒ–

Docker éƒ¨ç½²æ—¶ï¼Œæ•°æ®ä¼šä¿å­˜åœ¨ä»¥ä¸‹æ•°æ®å·ä¸­ï¼š
- `nano-banana-mysql-data` - MySQL æ•°æ®
- `nano-banana-redis-data` - Redis æ•°æ®
- `nano-banana-uploads` - ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶

### ç«¯å£è¯´æ˜

| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| åº”ç”¨ | 3000 | ä¸»åº”ç”¨ç«¯å£ |
| MySQL | 3306 | æ•°æ®åº“ç«¯å£ |
| Redis | 6379 | ç¼“å­˜ç«¯å£ |
| Nginx | 80/443 | Web æœåŠ¡å™¨ç«¯å£ï¼ˆå¯é€‰ï¼‰ |

---

## ğŸ”— ç›¸å…³é“¾æ¥

- **é¡¹ç›®ä¸»é¡µ**: https://github.com/pili1121/Nano-Banana
- **é—®é¢˜åé¦ˆ**: https://github.com/pili1121/Nano-Banana/issues
- **æ–‡æ¡£ç›®å½•**: `/docs/`

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
