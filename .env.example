# ==========================================
# 服务器配置
# ==========================================
# 运行环境 (development / production)
NODE_ENV=production

# 后端服务端口
PORT=3000

# 应用端口 (Docker 映射)
APP_PORT=3000

# ==========================================
# MySQL 数据库配置
# ==========================================
DB_HOST=localhost
DB_USER=your_db_username
DB_PASSWORD=your_db_password
DB_NAME=nano_banana

# Docker 环境下的 MySQL 配置
MYSQL_ROOT_PASSWORD=your_root_password_123
MYSQL_DATABASE=nano_banana
MYSQL_USER=nano_user
MYSQL_PASSWORD=nano_password_123
MYSQL_PORT=3306

# ==========================================
# Redis 缓存配置 (可选)
# ==========================================
REDIS_PORT=6379

# ==========================================
# JWT 认证密钥
# ==========================================
# 🔐 务必修改为复杂的随机字符串！
JWT_SECRET=your_jwt_secret_key_change_this_to_a_long_random_string

# ==========================================
# 管理员账户配置
# ==========================================
# 管理员邮箱 (用于自动创建默认管理员账户)
ADMIN_EMAIL=admin@example.com

# 管理员密码 (用于自动创建默认管理员账户)
# 🔐 务必修改为强密码！建议至少 8 位，包含字母、数字和特殊字符
ADMIN_PASSWORD=change_this_admin_password_123

# ==========================================
# AI 模型 API 配置
# ==========================================
# AI API 基础地址 (支持 OpenAI 兼容的 API)
AI_API_BASE_URL=https://api-host

# AI API 密钥 (sk- 开头的密钥)
AI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ==========================================
# 批量处理配置
# ==========================================
# 批量处理并发数 (1-10, 默认 3)
BATCH_CONCURRENCY=3

# 批量任务最大重试次数 (默认 2)
BATCH_MAX_RETRIES=2

# 批量上传最大文件数 (默认 50)
BATCH_MAX_FILES=50

# 批量上传单文件最大大小 (字节，默认 10MB = 10485760)
BATCH_MAX_FILE_SIZE=10485760

# ==========================================
# 积分系统配置
# ==========================================
# 默认积分 (新用户注册时赠送)
DEFAULT_USER_POINTS=10

# 积分扣除模式: 'always' (总是扣除) / 'system_key_only' (仅使用系统API时扣除)
POINTS_DEDUCTION_MODE=system_key_only

# ==========================================
# CORS 跨域配置
# ==========================================
# 前端访问地址 (生产环境建议改为具体域名)
FRONTEND_URL=*

# ==========================================
# 邮箱配置 (SMTP)
# ==========================================
# SMTP 服务器地址
MAIL_HOST=smtp.qq.com

# SMTP 端口 (通常 465 或 587)
MAIL_PORT=465

# 发件邮箱
MAIL_USER=your_email@qq.com

# 邮箱授权码 (不是邮箱登录密码)
MAIL_PASS=your_email_authorization_code

# 发件人显示名称（完整的 名称 <邮箱> 形式，未配置则回退为 "MAIL_BRAND_NAME 官方" <MAIL_USER>）
MAIL_FROM=Nano Banana 官方 <noreply@nanobanana.ai>

# 邮件品牌名称（用于邮件标题、内容展示）
MAIL_BRAND_NAME=Nano Banana

# ==========================================
# 文件存储配置
# ==========================================
# 文件上传目录 (相对于项目根目录)
UPLOAD_DIR=uploads

# 批量文件上传子目录
BATCH_UPLOAD_DIR=uploads/batch

# 图片文件访问基础 URL (生产环境建议配置为 CDN 或域名)
STATIC_BASE_URL=

# ==========================================
# Nginx 配置 (可选，用于生产环境)
# ==========================================
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ==========================================
# 图片生成模型列表（JSON 数组，后端解析）
# 注意：此配置为兜底方案，优先从数据库 model_management 表读取
# 示例格式：[{"id":"nano-banana","name":"Nano Banana","description":"标准模式","icon":"🍌","credit_cost":1}]
IMAGE_MODELS=[{"id":"gemini-2.5-flash-image","name":"Gemini 2.5 Flash Image","description":"默认生图模型，基于 /v1/chat/completions 接口，生成速度快","icon":"🪐","credit_cost":1},{"id":"nano-banana","name":"Nano Banana","description":"标准模式，生成速度快，适合日常使用","icon":"🍌","credit_cost":1},{"id":"nano-banana-hd","name":"Nano Banana HD","description":"高清模式，增强画质细节","icon":"✨","credit_cost":2},{"id":"nano-banana-2","name":"Nano Banana 2.0","description":"最新一代大模型，极致画质 (支持比例选择)","icon":"🚀","credit_cost":3},{"id":"nano-banana-2-2k","name":"Nano Banana 2.0 (2K)","description":"2K 模式，超清分辨率绘图","icon":"🔷","credit_cost":4},{"id":"nano-banana-2-4k","name":"Nano Banana 2.0 (4K)","description":"4K 模式，极致细节视觉盛宴","icon":"💠","credit_cost":5}]
